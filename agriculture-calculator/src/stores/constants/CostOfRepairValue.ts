import {getClosestValue} from "@/utils";
import type {EquipmentSubType} from "@/stores/constants/EquipmentTypes";

export function getCostOfRepairValue(totalHours: number, equipmentSubType: EquipmentSubType) {
    if (!totalHours || totalHours < 25) return 0;
    const targetTotalHours = getClosestValue(Object.keys(CostOfRepairHoursIndex), totalHours);
    const targetHourIndex = CostOfRepairHoursIndex[targetTotalHours.toString()];
    const maxHourIndex = CostOfRepairValueByEquipmentType[equipmentSubType].length - 1;
    return CostOfRepairValueByEquipmentType[equipmentSubType][Math.min(targetHourIndex, maxHourIndex)];
}

export const CostOfRepairHoursIndex = {'25': 0, '50': 1, '100': 2, '200': 3, '300': 4, '400': 5, '500': 6, '600': 7, '700': 8, '800': 9, '900': 10, '1000': 11, '1100': 12, '1200': 13, '1300': 14, '1400': 15, '1500': 16, '1600': 17, '1700': 18, '1800': 19, '1900': 20, '2000': 21, '2100': 22, '2200': 23, '2300': 24, '2400': 25, '2500': 26, '2600': 27, '2700': 28, '2800': 29, '2900': 30, '3000': 31, '4000': 32, '5000': 33, '6000': 34, '7000': 35, '8000': 36, '9000': 37, '10000': 38, '11000': 39, '12000': 40} as Record<string, number>

export const CostOfRepairValueByEquipmentType = {
    "tractor_4x2": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.01,
        0.03,
        0.03,
        0.04,
        0.04,
        0.04,
        0.04,
        0.05,
        0.05,
        0.05,
        0.06,
        0.06,
        0.11,
        0.18,
        0.25,
        0.34,
        0.45,
        0.57,
        0.7
    ],
    "tractor_4x4": [
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.01,
    0.03,
    0.05,
    0.08,
    0.11,
    0.15,
    0.19,
    0.24,
    0.3
],
    "plough": [
    0.01,
    0.01,
    0.01,
    0.02,
    0.04,
    0.06,
    0.09,
    0.12,
    0.16,
    0.19,
    0.24,
    0.29,
    0.35,
    0.4,
    0.47,
    0.53,
    0.61,
    0.68,
    0.76,
    0.84,
    0.93,
    1.01
],
    "harrow": [
    0.01,
    0.01,
    0.01,
    0.03,
    0.05,
    0.07,
    0.1,
    0.13,
    0.17,
    0.2,
    0.24,
    0.27,
    0.31,
    0.35,
    0.39,
    0.43,
    0.48,
    0.52,
    0.56,
    0.61,
    0.66,
    0.71
],
    "cultivator": [
    0.01,
    0.01,
    0.01,
    0.03,
    0.05,
    0.07,
    0.1,
    0.13,
    0.17,
    0.2,
    0.24,
    0.27,
    0.31,
    0.35,
    0.39,
    0.43,
    0.48,
    0.52,
    0.56,
    0.61,
    0.66,
    0.71
],
    "row_cultivator": [
    0.0,
    0.0,
    0.0,
    0.0,
    0.01,
    0.02,
    0.04,
    0.06,
    0.08,
    0.1,
    0.14,
    0.17,
    0.21,
    0.25,
    0.31,
    0.36,
    0.42,
    0.48,
    0.55,
    0.62,
    0.7,
    0.78
],
    "packing_press": [
    0.0,
    0.0,
    0.01,
    0.01,
    0.03,
    0.04,
    0.07,
    0.09,
    0.12,
    0.15,
    0.19,
    0.23,
    0.28,
    0.32,
    0.37,
    0.42,
    0.48,
    0.54,
    0.6,
    0.66,
    0.73,
    0.8
],
    "balling_press": [
    0.01,
    0.01,
    0.01,
    0.02,
    0.05,
    0.08,
    0.12,
    0.17,
    0.23,
    0.29,
    0.36,
    0.43,
    0.46,
    0.5,
    0.55,
    0.59,
    0.63,
    0.67,
    0.72,
    0.76,
    0.8,
    0.84
],
    "combine": [
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.01,
    0.01,
    0.01,
    0.02,
    0.02,
    0.03,
    0.04,
    0.04,
    0.05,
    0.05,
    0.06,
    0.07,
    0.08,
    0.09,
    0.1,
    0.11,
    0.12,
    0.14,
    0.15,
    0.16,
    0.18,
    0.19,
    0.2,
    0.23,
    0.24,
    0.25,
    0.28,
    0.29,
    0.3,
    0.33,
    0.34,
    0.35,
    0.38,
    0.39,
    0.4
],
    "potato_combine": [
    0.01,
    0.01,
    0.01,
    0.02,
    0.04,
    0.05,
    0.07,
    0.09,
    0.12,
    0.14,
    0.17,
    0.19,
    0.22,
    0.25,
    0.28,
    0.3,
    0.34,
    0.37,
    0.4,
    0.43,
    0.47,
    0.5
],
    "seed_drill": [
    0.0,
    0.0,
    0.0,
    0.01,
    0.03,
    0.05,
    0.07,
    0.11,
    0.15,
    0.2,
    0.26,
    0.32,
    0.33,
    0.36,
    0.39,
    0.42,
    0.45,
    0.48,
    0.52,
    0.55,
    0.58,
    0.61
],
    "planter": [
    0.0,
    0.0,
    0.0,
    0.01,
    0.03,
    0.05,
    0.07,
    0.11,
    0.15,
    0.2,
    0.26,
    0.32,
    0.33,
    0.36,
    0.39,
    0.42,
    0.45,
    0.48,
    0.52,
    0.55,
    0.58,
    0.61
]
} as Record<EquipmentSubType, number[]>