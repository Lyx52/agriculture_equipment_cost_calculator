{% import '@uzc_gazes/graph-macros.html.twig' as graphMacros %}
<div id="app"></div>
{{ graphMacros.beginModal("machinery-info-modal", "Tehnikas dati") }}
<div class="row">
    <div class="col">
        <div class="form-group">
            <label for="inputMachineryCategory">Tehnikas jauda, kw</label>
            <div class="d-flex flex-row mb-3">
                <select class="form-control mb-0 me-2" id="inputMachineryPowerOp">
                    <option value="0">Vairāk nekā</option>
                    <option value="1">Mazāk nekā</option>
                </select>
                <input class="form-control" id="inputMachineryPowerFilter" aria-describedby="powerKw"/>
                <label id="powerKw" class="mt-auto mb-auto ms-2">kw</label>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachineryCategoryGroup">
            <label for="inputMachineryCategory">Tehnikas kategorija</label>
            <select class="form-control" id="inputMachineryCategory" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachinerySubCategoryGroup">
            <label for="inputMachinerySubCategory">Tehnikas apakškategorija</label>
            <select class="form-control" id="inputMachinerySubCategory" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachineryMarkGroup">
            <label for="inputMachineryMark">Tehnikas marka</label>
            <select class="form-control" id="inputMachineryMark" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachineryModelGroup">
            <label for="inputMachineryModel">Tehnikas modelis</label>
            <select class="form-control" id="inputMachineryModel" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;" role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="btn-group w-100">
            <div class="form-group w-100" id="searchContainer">
                <label for="inputSearchBar">Meklēt tehniku</label>
                <input type="text" class="form-control" id="inputSearchBar" placeholder="Meklēt tehniku..." autocomplete="false">
                <div id="searchSpinner" class="spinner-border search-spinner" role="status">
                    <span class="sr-only hidden">Loading...</span>
                </div>
            </div>
            <div id="searchResultContainer" class="dropdown-menu top-100 w-100" aria-labelledby="searchContainer">
            </div>
        </div>
    </div>
    <div id="tractorInfoContainer" class="col">
        <a tabindex="-1" data-toggle="tooltip" data-placement="right" id="sourceTooltip" title="avots">
            <span class="badge badge-secondary">Avots</span>
        </a>
        <div class="form-group">
            <label for="inputMachineryName">Mašīnas marka un modelis</label>
            <input type="text" class="form-control" id="inputMachineryName">
        </div>
        <div class="form-group">
            <label for="inputMachineryPrice">Iepirkuma cena (EUR)</label>
            <input type="number" class="form-control" id="inputMachineryPrice">
        </div>
        <div class="form-group">
            <label for="inputMachineryType">Mašīnas tips</label>
            <select class="form-control form-control-sm" id="inputMachineryType"></select>
        </div>
        <div class="form-group">
            <label for="inputMachineryEquipmentLevel">Mašīnas komplektācija</label>
            <select class="form-control form-control-sm" id="inputMachineryEquipmentLevel">
                <option value="base" selected>Bāzes</option>
                <option value="medium">Vidējais</option>
                <option value="premium">Premium</option>
            </select>
        </div>
        <div class="form-group mb-3">
            <span class="fs-5 fw-lighter">Specifikācija</span>
        </div>
        <span id="specificationContainer">
        </span>
    </div>
</div>
<div class="d-flex flex-row w-100 mt-3">
    <button id="addTechnicalEquipment" class="btn btn-success ms-auto">Pievienot</button>
</div>
{{ graphMacros.endModal() }}

<div class="container-fluid mb-3">
    <div class="row row-cols-1">
        <div class="col">
            {{ graphMacros.openModalButton("machinery-info-modal", "Pievienot tehnikas vienību") }}
        </div>
        <div class="col">
            <h1 class="fs-4 text-center fw-bold mt-3">Tehnikas vienības</h1>
            <table id="technical-equipment-table" class="table table-striped w-100">
                <thead class="thead-dark">
                <tr>
                    <th>Mašīnas nosaukums</th>
                    <th>Mašīnas cena, EUR</th>
                    <th>Mašīnas masa, kg</th>
                    <th>Mašīnas jauda, kw</th>
                    <th>Nepieciešamā mašīnas jauda, kw</th>
                    <th>Mašīnas nolietojums, h</th>
                    <th>Ekspluatācijas laiks, gadi</th>
                    <th>Atlikušais ekspluatācijas laiks, gadi</th>
                    <th>Darba veiktspēja ha/h vai tonnas/h</th>
                    <th>Kopējais ekspluatācijas laiks, gadi</th>
                </tr>
                </thead>
            </table>
        </div>
        <div class="col">
            <h1 class="fs-4 text-center fw-bold mt-3">???</h1>
            <table id="calculations-table" class="table table-striped w-100">
                <thead class="thead-dark">
                    <tr>
                        <th>Mašīnas nosaukums</th>
                        <th>Darbības veids</th>
                        <th>Procentu likme, %</th>
                        <th>Degvielas cena, EUR/l</th>
                        <th>Degvielas izmantošanas koef</th>
                        <th>Smērvielu izmaksas no degvielas izmaksām, %</th>
                        <th>Darbaspēka atalgojums stundā, EUR</th>
                        <th>Faktiskās darba stundas[10 līdz 20 %], %</th>
                        <th>Nodokļi, apdrošināšana un uzturēšana, %</th>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="col">
            <h1 class="fs-4 text-center fw-bold mt-3">Īpašuma izmaksu novērtējums</h1>
            <table id="calculations-table-2" class="table table-striped w-100">
                <thead class="thead-dark">
                <tr>
                    <th>Mašīnas nosaukums</th>
                    <th>Darbības veids</th>
                    <th>Procentu likme, %</th>
                    <th>Degvielas cena, EUR/l</th>
                    <th>Degvielas izmantošanas koef</th>
                    <th>Smērvielu izmaksas no degvielas izmaksām, %</th>
                    <th>Darbaspēka atalgojums stundā, EUR</th>
                    <th>Faktiskās darba stundas[10 līdz 20 %], %</th>
                    <th>Nodokļi, apdrošināšana un uzturēšana, %</th>
                </tr>
                </thead>
            </table>
        </div>
        <div class="col">
            <h1 class="fs-4 text-center fw-bold mt-3">Ekspluatācijas izmaksu novērtējums</h1>
            <table id="calculations-table-3" class="table table-striped w-100">
                <thead class="thead-dark">
                <tr>
                    <th>Mašīnas nosaukums</th>
                    <th>Darbības veids</th>
                    <th>Procentu likme, %</th>
                    <th>Degvielas cena, EUR/l</th>
                    <th>Degvielas izmantošanas koef</th>
                    <th>Smērvielu izmaksas no degvielas izmaksām, %</th>
                    <th>Darbaspēka atalgojums stundā, EUR</th>
                    <th>Faktiskās darba stundas[10 līdz 20 %], %</th>
                    <th>Nodokļi, apdrošināšana un uzturēšana, %</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
