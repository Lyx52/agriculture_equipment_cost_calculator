{% import '@uzc_gazes/graph-macros.html.twig' as graphMacros %}
{{ graphMacros.beginModal("machinery-info-modal", "Tehnikas dati") }}
<div class="row">
    <div class="col">
        <div class="form-group select-with-spinner" id="inputMachineryCategoryGroup">
            <label for="inputMachineryCategory">Tehnikas kategorija</label>
            <select class="form-control" id="inputMachineryCategory" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachinerySubCategoryGroup">
            <label for="inputMachinerySubCategory">Tehnikas apakškategorija</label>
            <select class="form-control" id="inputMachinerySubCategory" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachineryMarkGroup">
            <label for="inputMachineryMark">Tehnikas marka</label>
            <select class="form-control" id="inputMachineryMark" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;"  role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="form-group select-with-spinner" id="inputMachineryModelGroup">
            <label for="inputMachineryModel">Tehnikas modelis</label>
            <select class="form-control" id="inputMachineryModel" autocomplete="false">
            </select>
            <div class="spinner-border" style="display: none;" role="status">
                <span class="sr-only hidden">Loading...</span>
            </div>
        </div>
        <div class="btn-group w-100">
            <div class="form-group w-100" id="searchContainer">
                <label for="inputSearchBar">Meklēt tehniku</label>
                <input type="text" class="form-control" id="inputSearchBar" placeholder="Meklēt tehniku..." autocomplete="false">
                <div id="searchSpinner" class="spinner-border search-spinner" role="status">
                    <span class="sr-only hidden">Loading...</span>
                </div>
            </div>
            <div id="searchResultContainer" class="dropdown-menu top-100 w-100" aria-labelledby="searchContainer">
            </div>
        </div>
    </div>
    <div id="tractorInfoContainer" class="col">
        <a tabindex="-1" data-toggle="tooltip" data-placement="right" id="sourceTooltip" title="avots">
            <span class="badge badge-secondary">Avots</span>
        </a>
        <div class="form-group">
            <label for="inputMachineryName">Mašīnas marka un modelis</label>
            <input type="text" class="form-control" id="inputMachineryName">
        </div>
        <div class="form-group">
            <label for="inputMachineryPrice">Iepirkuma cena (EUR)</label>
            <input type="number" class="form-control" id="inputMachineryPrice">
        </div>
        <div class="form-group">
            <label for="inputMachineryEquipmentLevel">Mašīnas komplektācija</label>
            <select class="form-control form-control-sm" id="inputMachineryEquipmentLevel">
                <option value="base" selected>Bāzes</option>
                <option value="medium">Vidējais</option>
                <option value="premium">Premium</option>
            </select>
        </div>
        <div class="form-group mb-3">
            <span class="fs-5 fw-lighter">Specifikācija</span>
        </div>
        <span id="specificationContainer">
        </span>
    </div>
</div>
<div class="d-flex flex-row w-100 mt-3">
    <button id="addTechnicalEquipment" class="btn btn-success ms-auto">Pievienot</button>
</div>
{{ graphMacros.endModal() }}

<div class="container-fluid">
    <div class="row row-cols-1">
        <div class="col">
            {{ graphMacros.openModalButton("machinery-info-modal", "Pievienot tehnikas vienību") }}
        </div>
        <div class="col">
            <table id="calcultions-table" class="table table-striped" style="width:100%">
                <thead class="thead-dark">
                    <tr>
                        <th>Mašīnas nosaukums</th>
                        <th>Mašīnas cena</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
